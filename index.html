<html>
	<head>
		<meta charset="UTF-8">
		
		<script src="https://code.jquery.com/jquery-3.1.1.js"></script>
		<script src="script.js"></script>
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<script src="skobbler-2.0.min.js"></script>
		
		<title>Wind in de RUG</title>
		
		<style>
		#map {
			height: 100%;
		}
		
		.override-margin {
			margin-left: 0px;
			margin-right: 0px;
			padding-left: 0px;
			padding-right: 0px;
			width: 100%;
			height: 85%;
		}
		
		.fullwidth {
			width: 100%;
		}
		</style>
	</head>
	<body>
		<!-- Header with the brand name -->
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<div class="navbar-header">
					<a class="navbar-brand" href="index.html">Wind in de RUG: Weather adaptive cycling</a>
				</div>
			</div>
		</nav>
		
		<div class="row override-margin">
			<div class="col-md-4" id="routeplanpane">
				<!-- Page 1: User enters route points -->
				<div id="routeplanpage1">
					<form>
						<div class="form-group">
							<label for="startend">Start/end location</label>
							<input type="text" class="form-control" id="startend" placeholder="Ex. Grote Markt, Groningen">
						</div>
						<div class="form-group">
							<label for="via1">Via 1</label>
							<input type="text" class="form-control" id="via1" placeholder="Ex. Winsum">
						</div>
						<div class="form-group">
							<label for="via2">Via 2</label>
							<input type="text" class="form-control" id="via2" placeholder="Ex. Middelstum">
						</div>
						<div class="form-group">
							<label for="via3">Via 3</label>
							<input type="text" class="form-control" id="via3" placeholder="Ex. Ten Boer">
						</div>
						<div class="row">
							<div class="col-md-3">
								<!--button type="button" class="btn btn-link" onClick="addVia()">Add via</button-->
							</div>
							<div class="col-md-3">
								<!--button type="button" class="btn btn-link" onClick="resetForm()">Reset form</button-->
							</div>
							<div class="col-md-3"></div>
							<div class="col-md-3">
								<button type="button" class="btn btn-primary" onClick="gotoPage(2); planRoute()">Plan route</button>
							</div>
						</div>
					</form>
				</div>
				
				<!-- Page 2: User enters start time and speed -->
				<div id="routeplanpage2">
					<form>
						<div class="form-group">
							<label for="starttime">Start time</label>
							<div class="input-group">
								<input type="number" class="form-control" id="starttimeH" placeholder="18">
								<span class="input-group-addon">:</span>
								<input type="number" class="form-control" id="starttimeM" placeholder="30">
								<span class="input-group-addon">h</span>
							</div>
						</div>
						<div class="form-group">
							<label for="speed">Expected average speed</label>
							<div class="input-group">
								<input type="number" class="form-control" value="18" id="speed" aria-describedby="basic-addon2">
								<span class="input-group-addon" id="speed2">km/h</span>
							</div>
						</div>
						<div class="row">
							<div class="col-md-3">
								<!--button type="button" class="btn btn-link" onClick="gotoPage(1)">Back</button-->
							</div>
							<div class="col-md-3">
								<!--button type="button" class="btn btn-link" onClick="resetForm()">Reset form</button-->
							</div>
							<div class="col-md-3"></div>
							<div class="col-md-3">
								<button type="button" class="btn btn-primary" onClick="gotoPage(3); optimiseWeather()">Optimise</button>
							</div>
						</div>
					</form>
				</div>
				
				<!-- Page 3: Optimisation results -->
				<div id="routeplanpage3">
					<form>
						<h2 id="msgOptim">Your route is being optimised.<br />Please wait...</h2>
						
						<h3 id="recDir"></h3>
						<div class="progress">
							<div class="progress-bar progress-bar-success" id="recTail" style="width: 0%"></div>
							<div class="progress-bar progress-bar-warning" id="recCross" style="width: 0%"></div>
							<div class="progress-bar progress-bar-danger" id="recHead" style="width: 0%"></div>
						</div>
						
						<h3 id="altDir"></h3>
						<div class="progress">
							<div class="progress-bar progress-bar-success" id="altTail" style="width: 0%"></div>
							<div class="progress-bar progress-bar-warning" id="altCross" style="width: 0%"></div>
							<div class="progress-bar progress-bar-danger" id="altHead" style="width: 0%"></div>
						</div>
						
						<div class="row">
							<div class="col-md-3">
								<!--button type="button" class="btn btn-link" onClick="gotoPage(2)">Back</button-->
							</div>
							<div class="col-md-3"></div>
							<div class="col-md-6">
								<!--button type="button" class="btn btn-primary disabled">Get directions</button-->
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="col-md-8">
				<div id="map"></div>
			</div>
		</div>
		
		<!-- Skobbler map configuration -->
		<script>
			var map = L.skobbler.map('map', {
				apiKey: '1071b1a66d18a54cc861930a397ed442',
				mapStyle: 'bike',
        bicycleLanes: true,
        onewayArrows: true,
        pois: 'all',
        primaryLanguage: 'en',
        fallbackLanguage: 'en',
        mapLabels: 'localNaming',
        retinaDisplay: 'auto',

        zoomControl: true,
        zoomControlPosition: 'top-left',

        center: [53.240449, 6.536370],
        zoom: 10
			});
		</script>
	</body>
</html>